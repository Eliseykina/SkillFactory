# Авторизация/регистрация пользователя

**Цель:**
Пользователь хочет получить доступ к личному кабинету на сайте по доставке пиццы.

**Основное действующее лицо:**
Пользователь интернет-магазина

## Основной сценарий
1. Пользователь нажимает кнопку Зарегистрироваться11 на странице сайта.
2. Система отображает пользователю форму для ввода номера телефона.
3. Пользователь вводит номер телефона и нажимает кнопку Получить код .
4. Система генерирует 5-значный код и отправляет его пользователю на указанный номер телефона.
5. Система отображает пользователю поле для ввода 5-значного кода.
6. Пользователь получает код.
7. Пользователь вводит код.
8. Система сверяет код с отправленным.
9. Система проверяет, есть ли в базе данных сайт пользователь test с таким номером телефона.
10. Система авторизует пользователя и открывает доступ к личному кабинету. 
##Альтернативные сценарии
<table>
    <tbody>
        <tr>
            <td colspan=2><b>Альтернативный сценарий A:</b> Пользователь не получает код (шаг 6)</td>
        </tr>
        <tr>
            <td></td>
            <td>7a. Пользователь запрашивает код повторно.</td>
        </tr>
        <tr>
            <td></td>
            <td>8a. Система контролирует, чтобы число запросов кода не превышало трёх раз</td>
        </tr>
        <tr>
            <td></td>
            <td>9a. Повторяется шаг 4 — система снова отправляет код.</td>
        </tr>
        <tr>
             <td colspan=2><b>Альтернативный сценарий B:</b> Код не совпадает с отправленным (шаг 8)</td>
        </tr>
        <tr>
            <td></td>
            <td>9b. Система отображает пользователю сообщение об ошибке и предлагает отправить код повторно.</td>
        </tr>
        <tr>
            <td></td>
            <td>10b. Пользователь запрашивает код повторно</td>
        </tr>
        <tr>
            <td></td>
            <td>11b. Система контролирует количество попыток. Если меньше трёх — повторяется шаг 4.</td>
        </tr>
         <tr>
             <td colspan=2><b>Альтернативный сценарий C:</b> Пользователь в базе данных сайта не найден (шаг 9)</td>
        </tr>
        <tr>
            <td></td>
            <td>10c. Система добавляет нового пользователя в базу данных.</td>
        </tr>
    </tbody>
</table>

## Исключения:
<table>
    <tbody>
        <tr>
            <td colspan=2><b>Исключение E1:</b> Превышено количество попыток получения кода (шаг 8a и 11b)</td>
        </tr>
        <tr>
            <td></td>
            <td>E1.1. Система блокирует отправку кода на 30 минут</td>
        </tr>
        <tr>
            <td></td>
            <td>E1.2. Система уведомляет пользователя о временной блокировке.</td>
        </tr>
    </tbody>
</table>